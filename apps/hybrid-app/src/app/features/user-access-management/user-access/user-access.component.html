<div class="m-3">
  <div class="flex-header-wrapper">
    <label class="fontRobotoBold header-text">
      {{ 'ACCESS_MGMT' | translate  }}
    </label>
    <!-- <div class="input-group">
      <label class="float-left font-weight-bold">
        {{ 'ACCESS_MGMT' | translate | uppercase }}
      </label>
    </div> -->
  </div>
  <div class="mt-3">
    <table class="table table-bordered">
      <thead class="thead-dark">
      <tr *ngIf="roles">
        <th scope="col fontRobotoBold">Permissions</th>
        <th scope="col fontRobotoBold" class="text-center" *ngFor="let role of roles">{{ role.display_name }}</th>
      </tr>
      </thead>
      <tbody *ngIf="{ permissions: permissions$ | async } as data" >
        <ng-container *ngIf="data && data.permissions">
        <tr *ngFor="let permission of data.permissions.results; index as i">
          <td class="fontRobotoMedium">{{ permission.name }} </td>
          <td class="text-center" *ngFor="let role of roles">
            <input
            type="checkbox"
            [disabled]="false"
            [(ngModel)]="permissions[role.name][permission.name]"
            (change)="onValueChange(role)"
          />
          </td>
        </tr>
        </ng-container>
      </tbody>
    </table>
  </div>
  <router-outlet name="user-management"></router-outlet>
</div>